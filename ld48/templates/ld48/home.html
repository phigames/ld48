{% extends "ld48/base.html" %}

{% load static %}
{% load utils %}

{% block content %}
<div id="hello-container" class="modal-dialog" style="display: none">
    <form class="modal-content">
        <div class="modal-header">
            <h1 class="modal-title">Let's go <b>deepr</b></h1>
        </div>
        <div class="modal-body">
            <div>Welcome to <b>deepr</b>, the experimental social game about being profound. After registering, you can create new inspirational quotes. You can also rate the creations of others. After Ludum Dare has finished, we will publish the <a href="/leaderboard/">best quotes</a> on <a href="https://ldjam.com/">ldjam.com</a>!</div>
        </div>
        <div class="modal-footer">
        </div>
    </form>
</div>
<div id="register-container" class="modal-dialog" style="display: none">
    <form class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">Pick a username</h4>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="uname"><b>Username</b></label>
                <input type="text" placeholder="Enter Username" name="uname" id= "uname" required>
                <div id="register-error" class="text-danger"></div>
            </div>
            <div class="text-secondary">If you use your username from <b>ldjam.com</b>, we will leave you a comment about your ranking after the jam.</div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" value="Register" onclick="register()">Register</button>
        </div>
    </form>
</div>
<h3 class="mb-4">Recent posts</h3>
<div class="container p-0">
    <div class="row gy-3">
        {% for post in posts %}
            <div class="col-12">
                {% show_post post %}
            </div>
        {% endfor %}
    </div>
</div>
<nav class="row justify-content-center mt-3">
    <ul class="col-auto pagination">
        
        <li class="page-item {% if previous_page == None %}disabled{% endif %}"><a class="page-link" href="/?page={{ previous_page }}">Previous</a></li>
        {% for page in pages %}
            <li class="page-item {% if page == current_page %}active{% endif %}"><a class="page-link" href="/?page={{ page }}">{{ page }}</a></li>
        {% endfor %}
        <li class="page-item {% if next_page == None %}disabled{% endif %}"><a class="page-link" href="/?page={{ next_page }}">Next</a></li>
    </ul>
</nav>
{% endblock content %}

{% block scripts %}
<script src="{% static 'ld48/js/home.js' %}"></script>
{% endblock scripts %}
